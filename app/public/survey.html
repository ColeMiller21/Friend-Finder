<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
        </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
        </script>



    <script src="https://kit.fontawesome.com/64343a162e.js" crossorigin="anonymous"></script>


    <title>Friend Finder</title>
</head>
<style>
    #submit {
        margin-bottom: 20px;
    }

    .questions {
        margin-bottom: 15px;
    }

    .question-title {
        font-weight: bolder;
    }
</style>


<body>
    <div class="container">
        <h1 class="display-4 text-center title">Start Survey</h1>
        <hr class="my-4">

        <h4>About You</h4>
        <label for="name">Name (Required)</label>
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="name" aria-describedby="basic-addon3">
        </div>

        <label for="photo">Photo URL (Required)</label>
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="photo" aria-describedby="basic-addon3">
        </div>
        <hr class="my-4">
        <div id="allquestions">

        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 1</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question1">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>

        <div class="questions text-center">
            <h4 class="question-title">Question 2</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question2">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 3</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question3">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 4</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question4">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 5</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question5">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 6</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question6">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 7</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question7">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 8</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question8">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 9</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question9">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 10</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question10">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="modal fade bd-example-modal-lg-account" tabindex="-1" role="dialog" id="match"
            aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content modal-page">
                    <div class="modal-body">
                        <h1 id="match-name" class="text-center"></h1>
                        <div id="match-image" class="text-center">

                        </div>
                    </div>
                </div>
            </div>
        </div>


        <button type="button" class="btn btn-primary btn-lg btn-block" id="submit">Submit</button>
    </div>

    <script>

        var questionArray = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]

        function showQuestions() {
            for (var i = 1; i < 11; i++) {
                var questionDiv = $("<div>");
                questionDiv.addClass("questions text-center");
                var questionTitle = $("<h4>");
                questionTitle.addClass("question-title");
                questionTitle.text("Question " + [i]);

                questionDiv.append(questionTitle);
                $("#allquestions").append(questionDiv);

                var questionP = $("<p>");
                for (var j = 0; j < questionArray.length; j++) {
                    questionP.text(questionArray[j]);
                    console.log(questionArray[j])
                }
                var questionSelect = $("<select>");
                questionSelect.attr("id", "question " + [i]);


                questionP.append(questionSelect)
                questionTitle.append(questionP)
            }
        }


        $(document).on("click", "#submit", function (event) {
            event.preventDefault();

            var userName = $("#name").val().trim();
            var userPhoto = $("#photo").val().trim();
            var userChoices = [];
            var newFriend;
            for (var i = 1; i < 11; i++) {
                var question = $("#question" + i);
                var selectedQues = parseInt(question.val());
                userChoices.push(selectedQues)
            }

            for (var x = 0; x < userChoices.length; x++) {
                if (Number.isNaN(userChoices[x]) === NaN) {
                    console.log("not finished!!!")
                } else {
                    newFriend = {
                        name: userName,
                        photo: userPhoto,
                        choices: userChoices
                    }
                }
            }

            $.post("/api/data/friends", newFriend)
                .then(function (data) {
                    console.log(data)
                    $("#match-name").text(data.name)
                    var image = $("<img>");
                    image.attr("src", data.photo);
                    $("#match-image").append(image)

                    $("#match").modal("show");

                })


        });


    </script>
</body>




</html>