<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://kit.fontawesome.com/64343a162e.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="../../css/style.css" />
    <title>Friend Finder</title>
</head>
<style>
    #submit {
        margin-bottom: 20px;
    }

    .questions {
        margin-bottom: 15px;
    }

    .question-title {
        font-weight: bolder;
    }
</style>


<body>
    <div class="container">
        <h1 class="display-4 text-center title">Start Survey</h1>
        <hr class="my-4">

        <h4>About You</h4>
        <label for="name">Name (Required)</label>
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="name" aria-describedby="basic-addon3">
        </div>

        <label for="photo">Photo URL (Required)</label>
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="photo" aria-describedby="basic-addon3">
        </div>
        <hr class="my-4">

        <div class="questions text-center">
            <h4 class="question-title">Question 1</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question1">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>

        <div class="questions text-center">
            <h4 class="question-title">Question 2</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question2">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 3</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question3">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 4</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question4">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 5</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question5">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 6</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question6">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 7</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question7">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 8</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question8">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 9</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question9">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>
        <div class="questions text-center">
            <h4 class="question-title">Question 10</h4>
            <p>Question is going to be typed here.........</p>
            <select id="question10">
                <option selected="selected">Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>
        </div>

        <button type="button" class="btn btn-primary btn-lg btn-block" id="submit">Submit</button>
    </div>

    <script>

        $(document).on("click", "#submit", function (event) {
            event.preventDefault();

            var userName = $("#name").val().trim();
            var userPhoto = $("#photo").val().trim();
            var userChoices = [];
            var newFriend;
            for (var i = 1; i < 11; i++) {
                var question = $("#question" + i);
                var selectedQues = parseInt(question.val());
                userChoices.push(selectedQues)
            }

            for (var x = 0; x < userChoices.length; x++) {
                if (Number.isNaN(userChoices[x]) === true) {
                    console.log("not finished!!!")
                } else {
                    newFriend = {
                        name: userName,
                        photo: userPhoto,
                        choices: userChoices
                    }
                }
            }

            console.log(newFriend)
            $.post("/api/data/friends", newFriend)
                .then(function (data) {
                    console.log("survey.html", data);
                    alert("adding new friend")

                })
        })

    </script>
</body>




</html>